{
  "name": "Dropbox Delete Sync â†’ Airtable",
  "nodes": [
    {
      "parameters": {
        "operation": "onFileDeleted",
        "path": "/"
      },
      "name": "Dropbox Delete Trigger",
      "type": "n8n-nodes-base.dropboxTrigger",
      "typeVersion": 1,
      "position": [250, 200][250, 200]
    },
    {
      "parameters": {
        "operation": "search",
        "baseId": "YOUR_AIRTABLE_BASE_ID",
        "tableId": "tblFiles",
        "filterByFormula": "({DropboxPath} = \"{{ $json.path_display }}\")"
      },
      "name": "Airtable Find Record",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 1,
      "position": [450, 200][450, 200]
    },
    {
      "parameters": {
        "operation": "delete",
        "baseId": "YOUR_AIRTABLE_BASE_ID",
        "tableId": "tblFiles",
        "recordId": "={{ $json.records[0].id }}"
      },
      "name": "Delete Airtable Record",
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 1,
      "position": [650, 200][650, 200]
    },
    {
      "parameters": {
        "operation": "send",
        "toEmail": "admin@example.com",
        "subject": "Airtable record removed",
        "text": "Record for deleted Dropbox path {{ $json.path_display }} was removed from Airtable."
      },
      "name": "Notify Admin",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 1,
      "position": [850, 200][850, 200]
    }
  ],
  "connections": {
    "Dropbox Delete Trigger": { "main": [["Airtable Find Record", "main"]] },
    "Airtable Find Record": { "main": [["Delete Airtable Record", "main"]] },
    "Delete Airtable Record": { "main": [["Notify Admin", "main"]] }
  }
}
